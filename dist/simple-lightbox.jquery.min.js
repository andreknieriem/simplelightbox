/*!
	By Andr√© Rinas, www.andrerinas.de
	Documentation, www.simplelightbox.de
	Available for use under the MIT License
	Version 2.00
*/
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var SimpleLightbox=function(){function i(t,e){var n=this;_classCallCheck(this,i),_defineProperty(this,"a",{sourceAttr:"href",overlay:!0,spinner:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],captions:!0,captionDelay:0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",captionClass:"",close:!0,closeText:"&times;",swipeClose:!0,showCounter:!0,fileExt:"png|jpg|jpeg|gif|webp",animationSlide:!0,animationSpeed:250,preloading:!0,enableKeyboard:!0,loop:!0,rel:!1,docClose:!0,swipeTolerance:50,className:"simple-lightbox",widthRatio:.8,heightRatio:.9,scaleImageToRatio:!1,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",additionalHtml:!1,history:!0,throttleInterval:0,doubleTapZoom:2,maxZoom:10,htmlClass:"has-lightbox"}),_defineProperty(this,"b",void 0),_defineProperty(this,"c",!1),_defineProperty(this,"d","ontouchstart"in window),_defineProperty(this,"e",void 0),_defineProperty(this,"f","pushState"in history),_defineProperty(this,"g",!1),_defineProperty(this,"h",!1),_defineProperty(this,"i",!1),_defineProperty(this,"j",!1),_defineProperty(this,"k",null),_defineProperty(this,"l",void 0),_defineProperty(this,"m","simplelightbox"),_defineProperty(this,"n",{}),_defineProperty(this,"o",[]),_defineProperty(this,"p",0),_defineProperty(this,"q",0),_defineProperty(this,"r",null),_defineProperty(this,"s",0),_defineProperty(this,"t",{a:0,b:0,c:0,d:0,e:0,f:0,g:!1,h:0,i:!1,j:0,k:0,l:0,m:0,n:0,o:0,p:!1,q:0,r:0,s:0,t:0,u:0,v:0,w:1,x:0,y:0,z:0,A:0,B:0,C:0,D:0,E:0,F:0,G:0,H:0,I:0,J:0,K:0,L:0,M:!1,N:0}),this.options=Object.assign(this.a,e),"string"==typeof t?(this.r=t,this.elements=Array.from(document.querySelectorAll(t))):this.elements=void 0!==t.length&&0<t.length?Array.from(t):[t],this.b=this.calculateTransitionPrefix(),this.c=!1!==this.b,this.e=this.hash,this.options.rel&&(this.elements=Array.from(this.elements).filter(function(t){return t.getAttribute("rel")===n.options.rel})),this.createDomNodes(),this.options.close&&this.n.a.appendChild(this.n.b),this.options.showCounter&&1<this.elements.length&&(this.n.a.appendChild(this.n.c),this.n.c.querySelector(".sl-total").innerHTML=this.elements.length),this.options.nav&&this.n.a.appendChild(this.n.d),this.options.spinner&&this.n.a.appendChild(this.n.e),this.addEventListener(this.elements,"click."+this.m,function(t){if(n.isValidLink(t.currentTarget)){if(t.preventDefault(),n.h)return!1;n.p=n.elements.indexOf(t.currentTarget),n.openImage(t.currentTarget)}}),this.options.docClose&&this.addEventListener(this.n.f,["click."+this.m,"touchstart."+this.m],function(t){n.g&&n.close()}),this.options.disableRightClick&&this.addEventListener(document.body,"contextmenu."+this.m,function(t){t.target.classList.contains("sl-overlay")&&t.preventDefault()}),this.options.enableKeyboard&&this.addEventListener(document.body,"keyup."+this.m,this.throttle(function(t){if(n.t.a=0,n.h&&"Escape"===t.key)return n.l.setAttribute("src",""),n.h=!1,n.close();n.g&&(t.preventDefault(),"Escape"===t.key&&n.close(),console.log(n.h),!n.h&&-1<["ArrowLeft","ArrowRight"].indexOf(t.key)&&n.loadImage("ArrowRight"===t.key?1:-1))},this.options.throttleInterval)),this.addEvents()}return _createClass(i,[{key:"createDomNodes",value:function(){this.n.f=document.createElement("div"),this.n.f.classList.add("sl-overlay"),this.n.f.dataset.opacityTarget=".7",this.n.b=document.createElement("button"),this.n.b.classList.add("sl-close"),this.n.b.innerHTML=this.options.closeText,this.n.e=document.createElement("div"),this.n.e.classList.add("sl-spinner"),this.n.e.innerHTML="<div></div>",this.n.d=document.createElement("div"),this.n.d.classList.add("sl-navigation"),this.n.d.innerHTML='<button class="sl-prev">'.concat(this.options.navText[0],'</button><button class="sl-next">').concat(this.options.navText[1],"</button>"),this.n.c=document.createElement("div"),this.n.c.classList.add("sl-counter"),this.n.c.innerHTML='<span class="sl-current"></span>/<span class="sl-total"></span>',this.n.g=document.createElement("div"),this.n.g.classList.add("sl-caption","pos-"+this.options.captionPosition),this.options.captionClass&&this.n.g.classList.add(this.options.captionClass),this.n.h=document.createElement("div"),this.n.h.classList.add("sl-image"),this.n.a=document.createElement("div"),this.n.a.classList.add("sl-wrapper"),this.options.className&&this.n.a.classList.add(this.options.className)}},{key:"throttle",value:function(t,e){var n;return function(){n||(t.apply(this,arguments),n=!0,setTimeout(function(){return n=!1},e))}}},{key:"isValidLink",value:function(t){return!this.options.fileExt||"pathname"in t&&new RegExp("("+this.options.fileExt+")$","i").test(t.pathname)}},{key:"calculateTransitionPrefix",value:function(){var t=(document.body||document.documentElement).style;return"transition"in t?"":"WebkitTransition"in t?"-webkit-":"MozTransition"in t?"-moz-":"OTransition"in t&&"-o"}},{key:"toggleScrollbar",value:function(t){var e=0;if("hide"===t){var n=window.innerWidth;if(!n){var i=document.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}if(document.body.clientWidth<n){var s=document.createElement("div"),o=parseInt(document.body.style.paddingRight||0,10);s.classList.add("sl-scrollbar-measure"),document.body.appendChild(s),e=s.offsetWidth-s.clientWidth,document.body.removeChild(s),document.body.dataset.originalPaddingRight=o,0<e&&(document.body.classList.add("hidden-scroll"),document.body.style.paddingRight=o+e+"px")}}else document.body.classList.remove("hidden-scroll"),document.body.style.paddingRight=document.body.dataset.originalPaddingRight;return e}},{key:"close",value:function(){var t=this;if(!this.g||this.h||this.i)return!1;this.i=!0;var e=this.elements[this.lIndex];for(var n in e.dispatchEvent(new Event("close.simplelightbox")),this.options.history&&this.resetHash(),this.fadeOut(document.querySelectorAll(".sl-image img, .sl-overlay, .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter"),300,function(){t.options.disableScroll&&t.toggleScrollbar("show"),t.options.htmlClass&&""!==t.options.htmlClass&&document.querySelector("html").classList.remove(t.options.htmlClass),document.body.removeChild(t.n.a),document.body.removeChild(t.n.f),e.dispatchEvent(new Event("closed.simplelightbox")),t.i=!1}),this.l=null,this.g=!1,this.h=!1,this.t)this.t[n]=0;this.t.g=!1,this.t.i=!1,this.t.p=!1,this.t.w=this.minMax(1,1,this.options.maxZoom),this.t.M=!1}},{key:"preload",value:function(){var n=this,i=this.lIndex,t=this.elements.length,e=i+1<0?t-1:t-1<=i+1?0:i+1,s=i-1<0?t-1:t-1<=i-1?0:i-1,o=new Image,a=new Image;o.addEventListener("load",function(t){var e=t.target.getAttribute("src");-1===n.o.indexOf(e)&&n.o.push(e),n.elements[i].dispatchEvent(new Event("nextImageLoaded."+n.m))}),o.setAttribute("src",this.elements[e].getAttribute(this.options.sourceAttr)),a.addEventListener("load",function(t){var e=t.target.getAttribute("src");-1===n.o.indexOf(e)&&n.o.push(e),n.elements[i].dispatchEvent(new Event("prevImageLoaded."+n.m))}),a.setAttribute("src",this.elements[s].getAttribute(this.options.sourceAttr))}},{key:"loadImage",value:function(e){var n=this;this.elements[this.lIndex].dispatchEvent(new Event("change."+this.m)),this.elements[this.lIndex].dispatchEvent(new Event((1===e?"next":"prev")+"."+this.m));var t=this.lIndex+e;if(this.h||(t<0||t>=this.elements.length)&&!1===this.options.loop)return!1;this.lIndex=t<0?this.elements.length-1:t>this.elements.length-1?0:t,this.n.c.querySelector(".sl-current").innerHTML=this.lIndex+1,this.options.animationSlide&&this.slide(this.options.animationSpeed/1e3,-100*e-this.t.a+"px"),this.fadeOut(this.n.h,300,function(){n.h=!0,setTimeout(function(){var t=n.elements[n.lIndex];n.l.setAttribute("src",t.getAttribute(n.options.sourceAttr)),-1===n.o.indexOf(t.getAttribute(n.options.sourceAttr))&&n.show(n.n.e),n.n.h.contains(n.n.g)&&n.n.h.removeChild(n.n.g),n.adjustImage(e),n.options.preloading&&n.preload()},100)})}},{key:"adjustImage",value:function(a){var l=this;if(!this.l)return!1;var t=new Image,r=window.innerWidth*this.options.widthRatio,h=window.innerHeight*this.options.heightRatio;t.setAttribute("src",this.l.getAttribute("src")),this.l.dataset.scale=1,this.l.dataset.translateX=0,this.l.dataset.translateY=0,this.zoomPanElement(0,0,1),t.addEventListener("error",function(t){l.elements[l.lIndex].dispatchEvent(new Event("error."+l.m)),l.h=!1,l.g=!1,l.n.e.style.display="none";var e=1===a||-1===a;if(l.p===l.lIndex&&e)return l.close();l.options.alertError&&alert(l.options.alertErrorMessage),l.loadImage(e?a:1)}),t.addEventListener("load",function(t){void 0!==a&&(l.elements[l.lIndex].dispatchEvent(new Event("changed."+l.m)),l.elements[l.lIndex].dispatchEvent(new Event((1===a?"nextDone":"prevDone")+"."+l.m))),l.options.history&&l.updateURL(),-1===l.o.indexOf(l.l.getAttribute("src"))&&l.o.push(l.l.getAttribute("src"));var e=t.target.width,n=t.target.height;if(l.options.scaleImageToRatio||r<e||h<n){var i=r/h<e/n?e/r:n/h;e/=i,n/=i}l.n.h.style.top=(window.innerHeight-n)/2+"px",l.n.h.style.left=(window.innerWidth-e-l.s)/2+"px",l.n.h.style.width=e+"px",l.n.h.style.height=n+"px",l.n.e.style.display="none",l.fadeIn(l.l,300),l.g=!0;var s,o="self"===l.options.captionSelector?l.elements[l.lIndex]:l.elements[l.lIndex].querySelector(l.options.captionSelector);s="data"===l.options.captionType?o.dataset[l.options.captionsData]:"text"===l.options.captionType?o.innerHTML:o.getAttribute(l.options.captionsData),l.options.loop||(0===l.lIndex&&l.hide(l.n.d.querySelector(".sl-prev")),l.lIndex>=l.elements.length-1&&l.hide(l.n.d.querySelector(".sl-next")),0<l.lIndex&&l.show(l.n.d.querySelector(".sl-prev")),l.lIndex<l.elements.length-1&&l.show(l.n.d.querySelector(".sl-next"))),1===l.elements.length&&l.hide(l.n.d.querySelectorAll(".sl-prev, .sl-next")),1===a||-1===a?(l.options.animationSlide&&(l.slide(0,100*a+"px"),setTimeout(function(){l.slide(l.options.animationSpeed/1e3,"0px")},50)),l.fadeIn(l.n.h,300,function(){l.h=!1,l.setCaption(s,e)})):(l.h=!1,l.setCaption(s,e)),l.options.additionalHtml&&!l.n.i&&(l.n.i=document.createElement("div"),l.n.i.classList.add("sl-additional-html"),l.n.i.innerHTML=l.options.additionalHtml,l.n.h.appendChild(l.n.i))})}},{key:"zoomPanElement",value:function(t,e,n){this.l.style[this.b+"transform"]="translate("+t+","+e+") scale("+n+")"}},{key:"minMax",value:function(t,e,n){return t<e?e:n<t?n:t}},{key:"setZoomData",value:function(t,e,n){this.l.dataset.scale=t,this.l.dataset.translateX=e,this.l.dataset.translateY=n}},{key:"hashchangeHandler",value:function(){this.g&&this.hash===this.e&&this.close()}},{key:"addEvents",value:function(){var n=this;this.addEventListener(window,"resize."+this.m,function(t){n.g&&n.adjustImage()}),this.addEventListener(this.n.b,["click."+this.m,"touchstart."+this.m],this.close.bind(this)),this.options.history&&setTimeout(function(){n.addEventListener(window,"hashchange."+n.m,function(t){n.g&&n.hashchangeHandler()})},40),this.addEventListener(this.n.d,"click."+this.m,function(t){if(!t.target.tagName.match(/button/i))return!0;t.preventDefault(),n.t.a=0,n.loadImage(t.target.classList.contains("sl-next")?1:-1)}),this.addEventListener(this.n.h,["touchstart."+this.m,"mousedown."+this.m],function(t){if("A"===t.target.tagName&&"touchstart"===t.type)return console.log("WHAT"),!0;if("mousedown"===t.type)n.t.s=t.clientX,n.t.t=t.clientY,n.t.j=n.getDimensions(n.n.h).height,n.t.k=n.getDimensions(n.n.h).width,n.t.n=n.getDimensions(n.l).height,n.t.o=n.getDimensions(n.l).width,n.t.l=n.n.h.offsetLeft,n.t.m=n.n.h.offsetTop,n.t.q=parseFloat(n.l.dataset.translateX),n.t.r=parseFloat(n.l.dataset.translateY),n.t.p=!0;else{if(n.t.L=t.touches.length,n.t.s=t.touches[0].clientX,n.t.t=t.touches[0].clientY,n.t.j=n.getDimensions(n.n.h).height,n.t.k=n.getDimensions(n.n.h).width,n.t.n=n.getDimensions(n.l).height,n.t.o=n.getDimensions(n.l).width,n.t.l=n.n.h.offsetLeft,n.t.m=n.n.h.offsetTop,1===n.t.L){if(n.t.M)return n.l.classList.add("sl-transition"),n.t.i?(n.t.w=1,n.setZoomData(0,0,n.t.w),n.zoomPanElement("0px","0px",n.t.w),n.t.i=!1):(n.t.w=n.options.doubleTapZoom,n.setZoomData(0,0,n.t.w),n.zoomPanElement("0px","0px",n.t.w),n.n.g.style.opacity||"none"===n.n.g.style.display||n.fadeOut(n.n.g,200),n.t.i=!0),setTimeout(function(){n.l&&n.l.classList.remove("sl-transition")},200),!1;n.t.M=!0,setTimeout(function(){n.t.M=!1},300),n.tinitialOffsetX=parseFloat(n.l.dataset.translateX),n.tinitialOffsetY=parseFloat(n.l.dataset.translateY)}else 2===n.t.L&&(n.t.s2=t.touches[1].clientX,n.t.t2=t.touches[1].clientY,n.tinitialOffsetX=parseFloat(n.l.dataset.translateX),n.tinitialOffsetY=parseFloat(n.l.dataset.translateY),n.t.F=(n.t.s+n.t.s2)/2,n.t.G=(n.t.t+n.t.t2)/2,n.t.x=Math.sqrt((n.t.s-n.t.s2)*(n.t.s-n.t.s2)+(n.t.t-n.t.t2)*(n.t.t-n.t.t2)));n.t.p=!0}return!!n.t.g||(n.c&&(n.t.h=parseInt(n.n.h.style.left,10)),n.t.g=!0,n.t.a=0,n.t.b=0,n.t.c=t.pageX||t.touches[0].pageX,n.t.e=t.pageY||t.touches[0].pageY,!1)}),this.addEventListener(this.n.h,["touchmove."+this.m,"mousemove."+this.m,"MSPointerMove"],function(t){if(!n.t.g)return!0;if(t.preventDefault(),"touchmove"===t.type){if(!1===n.t.p)return!1;n.t.y=t.touches[0].clientX,n.t.z=t.touches[0].clientY,n.t.L=t.touches.length,n.t.N++,1<n.t.L?(n.t.y2=t.touches[1].clientX,n.t.z2=t.touches[1].clientY,n.t.K=Math.sqrt((n.t.y-n.t.y2)*(n.t.y-n.t.y2)+(n.t.z-n.t.z2)*(n.t.z-n.t.z2)),null===n.t.x&&(n.t.x=n.t.K),1<=Math.abs(n.t.x-n.t.K)&&(n.t.E=n.minMax(n.t.K/n.t.x*n.t.w,1,n.options.maxZoom),n.t.H=(n.t.o*n.t.E-n.t.k)/2,n.t.I=(n.t.n*n.t.E-n.t.j)/2,n.t.J=n.t.E-n.t.w,n.t.C=n.t.o*n.t.E<=n.t.k?0:n.minMax(n.t.q-(n.t.F-n.t.l-n.t.k/2-n.t.q)/(n.t.E-n.t.J)*n.t.J,-1*n.t.H,n.t.H),n.t.D=n.t.n*n.t.E<=n.t.j?0:n.minMax(n.t.r-(n.t.G-n.t.m-n.t.j/2-n.t.r)/(n.t.E-n.t.J)*n.t.J,-1*n.t.I,n.t.I),n.zoomPanElement(n.t.C+"px",n.t.D+"px",n.t.E),1<n.t.E&&(n.t.i=!0,n.n.g.style.opacity||"none"===n.n.g.style.display||n.fadeOut(n.n.g,200)),n.t.x=n.t.K,n.t.w=n.t.E,n.t.q=n.t.C,n.t.r=n.t.D)):(n.t.E=n.t.w,n.t.H=(n.t.o*n.t.E-n.t.k)/2,n.t.I=(n.t.n*n.t.E-n.t.j)/2,n.t.C=n.t.o*n.t.E<=n.t.k?0:n.minMax(n.t.y-(n.t.s-n.t.q),-1*n.t.H,n.t.H),n.t.D=n.t.n*n.t.E<=n.t.j?0:n.minMax(n.t.z-(n.t.t-n.t.r),-1*n.t.I,n.t.I),Math.abs(n.t.C)===Math.abs(n.t.H)&&(n.t.q=n.t.C,n.t.s=n.t.y),Math.abs(n.t.D)===Math.abs(n.t.I)&&(n.t.r=n.t.D,n.t.t=n.t.z),n.setZoomData(n.t.w,n.t.C,n.t.D),n.zoomPanElement(n.t.C+"px",n.t.D+"px",n.t.E))}if("mousemove"===t.type&&n.t.g){if("touchmove"==t.type)return!0;if(!1===n.t.p)return!1;n.t.y=t.clientX,n.t.z=t.clientY,n.t.E=n.t.w,n.t.H=(n.t.o*n.t.E-n.t.k)/2,n.t.I=(n.t.n*n.t.E-n.t.j)/2,n.t.C=n.t.o*n.t.E<=n.t.k?0:n.minMax(n.t.y-(n.t.s-n.t.q),-1*n.t.H,n.t.H),n.t.D=n.t.n*n.t.E<=n.t.j?0:n.minMax(n.t.z-(n.t.t-n.t.r),-1*n.t.I,n.t.I),Math.abs(n.t.C)===Math.abs(n.t.H)&&(n.t.q=n.t.C,n.t.s=n.t.y),Math.abs(n.t.D)===Math.abs(n.t.I)&&(n.t.r=n.t.D,n.t.t=n.t.z),n.setZoomData(n.t.w,n.t.C,n.t.D),n.zoomPanElement(n.t.C+"px",n.t.D+"px",n.t.E)}n.t.i||(n.t.d=t.pageX||t.touches[0].pageX,n.t.f=t.pageY||t.touches[0].pageY,n.t.a=n.t.c-n.t.d,n.t.b=n.t.e-n.t.f,n.options.animationSlide&&n.slide(0,-n.t.a+"px"))}),this.addEventListener(this.n.h,["touchend."+this.m,"mouseup."+this.m,"touchcancel."+this.m,"mouseleave."+this.m,"pointerup","pointercancel","MSPointerUp","MSPointerCancel"],function(t){if(n.d&&"touchend"===t.type&&(n.t.L=t.touches.length,0===n.t.L?(n.setZoomData(n.t.w,n.t.C,n.t.D),1===n.t.w&&(n.t.i=!1,"none"===n.n.g.style.display&&n.fadeIn(n.n.g,200)),n.t.x=null,n.t.p=!1):1===n.t.L?(n.t.s=t.touches[0].clientX,n.t.t=t.touches[0].clientY):1<n.t.L&&(n.t.x=null)),n.t.g){var e=!(n.t.g=!1);n.options.loop||(0===n.lIndex&&n.t.a<0&&(e=!1),n.lIndex>=n.elements.length-1&&0<n.t.a&&(e=!1)),Math.abs(n.t.a)>n.options.swipeTolerance&&e?n.loadImage(0<n.t.a?1:-1):n.options.animationSlide&&n.slide(n.options.animationSpeed/1e3,"0px"),n.options.swipeClose&&50<Math.abs(n.t.b)&&Math.abs(n.t.a)<n.options.swipeTolerance&&n.close()}}),this.addEventListener(this.n.h,["dblclick"],function(t){return n.t.s=t.clientX,n.t.t=t.clientY,n.t.j=n.getDimensions(n.n.h).height,n.t.k=n.getDimensions(n.n.h).width,n.t.n=n.getDimensions(n.l).height,n.t.o=n.getDimensions(n.l).width,n.t.l=n.n.h.offsetLeft,n.t.m=n.n.h.offsetTop,n.l.classList.add("sl-transition"),n.t.i?(n.t.w=1,n.setZoomData(n.t.w,0,0),n.zoomPanElement("0px","0px",n.t.w),n.t.i=!1,"none"===n.n.g.style.display&&n.fadeIn(n.n.g,200)):(n.t.w=n.options.doubleTapZoom,n.setZoomData(n.t.w,0,0),n.zoomPanElement("0px","0px",n.t.w),n.n.g.style.opacity||"none"===n.n.g.style.display||n.fadeOut(n.n.g,200),n.t.i=!0),setTimeout(function(){n.l&&n.l.classList.remove("sl-transition")},200),!(n.t.p=!0)})}},{key:"getDimensions",value:function(t){var e=window.getComputedStyle(t),n=t.offsetHeight,i=t.offsetWidth,s=parseFloat(e.borderTopWidth);return{height:n-parseFloat(e.borderBottomWidth)-s-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom),width:i-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)}}},{key:"updateHash",value:function(){var t="pid="+(this.lIndex+1),e=window.location.href.split("#")[0]+"#"+t;this.f?window.history[this.j?"replaceState":"pushState"]("",document.title,e):this.j?window.location.replace(e):window.location.hash=t,this.j=!0}},{key:"resetHash",value:function(){this.f?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash="",clearTimeout(this.k)}},{key:"updateURL",value:function(){this.j?this.k=setTimeout(this.updateHash.bind(this),800):this.updateHash()}},{key:"setCaption",value:function(t,e){var n=this;this.options.captions&&t&&""!==t&&void 0!==t&&(this.hide(this.n.g),this.n.g.style.width=e+"px",this.n.g.innerHTML=t,this.n.h.appendChild(this.n.g),setTimeout(function(){n.fadeIn(n.n.g,300)},this.options.captionDelay))}},{key:"slide",value:function(t,e){if(!this.c)return this.n.h.style.left=e;this.n.h.style[this.b+"transform"]="translateX("+e+")",this.n.h.style[this.b+"transition"]=this.b+"transform "+t+"s linear"}},{key:"openImage",value:function(t){var e=this;t.dispatchEvent(new Event("show."+this.m)),this.options.disableScroll&&(this.s=this.toggleScrollbar("hide")),this.options.htmlClass&&""!==this.options.htmlClass&&document.querySelector("html").classList.add(this.options.htmlClass),document.body.appendChild(this.n.a),this.n.a.appendChild(this.n.h),this.options.overlay&&document.body.appendChild(this.n.f),this.h=!0,this.lIndex=this.elements.indexOf(t);var n=t.getAttribute(this.options.sourceAttr);this.l=document.createElement("img"),this.l.style.display="none",this.l.setAttribute("src",n),this.l.dataset.scale=1,this.l.dataset.translateX=0,this.l.dataset.translateY=0,-1===this.o.indexOf(n)&&this.o.push(n),this.n.h.innerHTML="",this.n.h.setAttribute("style",""),this.n.h.appendChild(this.l),this.fadeIn(this.n.f,300),this.fadeIn([this.n.c,this.n.d,this.n.b],300),this.show(this.n.e),this.n.c.querySelector(".sl-current").innerHtml=this.lIndex+1,this.adjustImage(),this.options.preloading&&this.preload(),setTimeout(function(){t.dispatchEvent(new Event("shown."+e.m))},this.options.animationSpeed)}},{key:"addEventListener",value:function(t,e,n,i){t=this.wrap(t),e=this.wrap(e);var s=!0,o=!1,a=void 0;try{for(var l,r=t[Symbol.iterator]();!(s=(l=r.next()).done);s=!0){var h=l.value;h.namespaces||(h.namespaces={});var d=!0,c=!1,u=void 0;try{for(var p,m=e[Symbol.iterator]();!(d=(p=m.next()).done);d=!0){var f=p.value,y=i||!1;h.namespaces[f]=n,h.addEventListener(f.split(".")[0],n,y)}}catch(t){c=!0,u=t}finally{try{d||null==m.return||m.return()}finally{if(c)throw u}}}}catch(t){o=!0,a=t}finally{try{s||null==r.return||r.return()}finally{if(o)throw a}}}},{key:"removeEventListener",value:function(t,e){t=this.wrap(t),e=this.wrap(e);var n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,r=!0,h=!1,d=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var p=c.value;l.removeEventListener(p.split(".")[0],l.namespaces[p]),delete l.namespaces[p]}}catch(t){h=!0,d=t}finally{try{r||null==u.return||u.return()}finally{if(h)throw d}}}}catch(t){i=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}}},{key:"fadeOut",value:function(p,t,m){var f=this;p=this.wrap(p);var e=!0,n=!1,i=void 0;try{for(var s,o=p[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){s.value.style.opacity=1}}catch(t){n=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}var y=16.66666/(t||300);!function t(){var e=parseFloat(p[0].style.opacity);if((e-=y)<0){var n=!0,i=!1,s=void 0;try{for(var o,a=p[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;l.style.display="none",l.style.opacity=""}}catch(t){i=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}m&&m.call(f,p)}else{var r=!0,h=!1,d=void 0;try{for(var c,u=p[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){c.value.style.opacity=e}}catch(t){h=!0,d=t}finally{try{r||null==u.return||u.return()}finally{if(h)throw d}}requestAnimationFrame(t)}}()}},{key:"fadeIn",value:function(u,t,p,e){var m=this;u=this.wrap(u);var n=!0,i=!1,s=void 0;try{for(var o,a=u[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;l.style.opacity=0,l.style.display=e||"block"}}catch(t){i=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}var f=parseFloat(u[0].dataset.opacityTarget||1),y=16.66666*f/(t||300);!function t(){var e=parseFloat(u[0].style.opacity);if((e+=y)>f){var n=!0,i=!1,s=void 0;try{for(var o,a=u[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){o.value.style.opacity=""}}catch(t){i=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}p&&p.call(m,u)}else{var l=!0,r=!1,h=void 0;try{for(var d,c=u[Symbol.iterator]();!(l=(d=c.next()).done);l=!0){d.value.style.opacity=e}}catch(t){r=!0,h=t}finally{try{l||null==c.return||c.return()}finally{if(r)throw h}}requestAnimationFrame(t)}}()}},{key:"hide",value:function(t){t=this.wrap(t);var e=!0,n=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;a.dataset.initialDisplay=a.style.display,a.style.display="none"}}catch(t){n=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"show",value:function(t,e){t=this.wrap(t);var n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;l.style.display=l.dataset.initialDisplay||e||"block"}}catch(t){i=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}}},{key:"wrap",value:function(t){return"function"==typeof t[Symbol.iterator]&&"string"!=typeof t?t:[t]}},{key:"on",value:function(t,e){t=this.wrap(t);var n=!0,i=!1,s=void 0;try{for(var o,a=this.elements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;l.fullyNamespacedEvents||(l.fullyNamespacedEvents={});var r=!0,h=!1,d=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var p=c.value;l.fullyNamespacedEvents[p]=e,l.addEventListener(p,e)}}catch(t){h=!0,d=t}finally{try{r||null==u.return||u.return()}finally{if(h)throw d}}}}catch(t){i=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return this}},{key:"off",value:function(t){t=this.wrap(t);var e=!0,n=!1,i=void 0;try{for(var s,o=this.elements[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value,l=!0,r=!1,h=void 0;try{for(var d,c=t[Symbol.iterator]();!(l=(d=c.next()).done);l=!0){var u=d.value;u in a.fullyNamespacedEvents&&a.removeEventListener(u,a.fullyNamespacedEvents[u])}}catch(t){r=!0,h=t}finally{try{l||null==c.return||c.return()}finally{if(r)throw h}}}}catch(t){n=!0,i=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw i}}return this}},{key:"open",value:function(t){t=t||this.elements[0],this.p=this.elements.indexOf(t),this.openImage(t)}},{key:"next",value:function(){this.loadImage(1)}},{key:"prev",value:function(){this.loadImage(-1)}},{key:"destroy",value:function(){this.off(["close."+this.m,"closed."+this.m,"nextImageLoaded."+this.m,"prevImageLoaded."+this.m,"change."+this.m,"nextDone."+this.m,"prevDone."+this.m,"error."+this.m,"changed."+this.m,"next."+this.m,"prev."+this.m,"show."+this.m,"shown."+this.m]),this.removeEventListener(this.elements,"click."+this.m),this.removeEventListener(document.body,"contextmenu."+this.m),this.removeEventListener(document.body,"keyup."+this.m),this.removeEventListener(this.n.d,"click."+this.m),this.removeEventListener(this.n.b,"click."+this.m),this.removeEventListener(window,"resize."+this.m),this.removeEventListener(window,"hashchange."+this.m),this.close(),this.g&&(document.body.removeChild(this.n.a),document.body.removeChild(this.n.f)),this.elements=null}},{key:"refresh",value:function(){if(!this.r)throw"refreshing only works when you initialize using a selector!";var t=this.options,e=this.r;return this.destroy(),this.constructor(e,t),this}},{key:"hash",get:function(){return window.location.hash.substring(1)}}]),i}();!function(t){t.fn.simpleLightbox=function(t){return new SimpleLightbox(this.get(),t)}}(jQuery,(window,document));